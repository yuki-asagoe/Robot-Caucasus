# コーカサス サーボドライバー

## ビルド
*Arduino IDE*経由でビルドします。
六甲おろしサーボドライバーにISPで書き込んでください。

ボードごとに変更する必要のある値は`variables.h`に切り出しています。

#### 依存関係
[六甲おろしサーボドライバー v1.x 2016](https://github.com/RokkoOroshi/CanServoBoard2016)

## 利用法
CAN通信を用いて制御します。

送信先アドレスにつきましては`variables.h`定義のIDを用いて構築されます。  
申し訳ないけど詳細[前述のリポジトリ](https://github.com/RokkoOroshi/CanServoBoard2016)の `can_communication` Libを参照してね

### CANデータ構造
CANメッセージは8byteあります。
各バイトごとがサーボ一台に相当し、符号なし1byte(なので角度として設定できるのは理論上0~253度まで1度間隔)整数としてデータを転送します。送信サイズは任意です(最大で制御可能なものは8台になる)。
たとえば0バイト目に100を格納して送信すると0番に
また値が255の場合は無視されます、現状の出力を維持したいときに(最後の値が255かどうかだけでよかったような気も)
また値が254の場合は角度が初期値に設定されます。
すべての値が255の場合はサーボの電源を落とし、再起動します。
すべての値が254の場合も角度が初期値に設定されたうえで再起動します。

なおすべての角度は0°~の範囲で制御するので負の角度はないものとします。